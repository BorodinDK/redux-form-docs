<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charSet="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>Redux Form - `v6` Migration Guide</title>
    <link href="/6.0.0-alpha.4/bundle.css"
      media="screen, projection" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Lato:400,300,700" rel="stylesheet" type="text/css">
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css"
          media="screen, projection" rel="stylesheet" type="text/css"/>
    <meta itemprop="name" content="Redux Form"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="Redux Form"/>
    <meta property="og:site_name" content="Redux Form"/>
    <meta property="og:description" content="The best way to manage your form state in Redux."/>
    <meta property="og:image" content="logo.png"/>
    <meta property="twitter:site" content="@erikras"/>
    <meta property="twitter:creator" content="@erikras"/>
    <style type="text/css">
      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div class="app___3P8ep hasNav___1KF_W"><div class="nav___11xa5"><button type="button"></button><div class="placeholder___TzF1K"></div><nav class="menu___12xDU"><a href="http://redux-form.com/6.0.0-alpha.4" class="brand___1qRUu">Redux Form</a><a href="http://redux-form.com/6.0.0-alpha.4/docs/GettingStarted.md" class="">Getting Started</a><a href="http://redux-form.com/6.0.0-alpha.4/docs/MigrationGuide.md" class="active___2eU59"><code>v6</code> Migration Guide</a><a href="http://redux-form.com/6.0.0-alpha.4/docs/api" class="">API</a><a href="http://redux-form.com/6.0.0-alpha.4/docs/api/ReduxForm.md" class="indent1___4iVnL"><code>reduxForm()</code></a><a href="http://redux-form.com/6.0.0-alpha.4/docs/api/Props.md" class="indent1___4iVnL"><code>props</code></a><a href="http://redux-form.com/6.0.0-alpha.4/docs/api/Field.md" class="indent1___4iVnL"><code>Field</code></a><a href="http://redux-form.com/6.0.0-alpha.4/docs/api/Reducer.md" class="indent1___4iVnL"><code>reducer</code></a><a href="http://redux-form.com/6.0.0-alpha.4/docs/api/ReducerSyncValidation.md" class="indent2___2PiOO"><code>reducer.syncValidation()</code></a><a href="http://redux-form.com/6.0.0-alpha.4/docs/api/SubmissionError.md" class="indent1___4iVnL"><code>SubmissionError</code></a><a href="http://redux-form.com/6.0.0-alpha.4/docs/api/ActionCreators.md" class="indent1___4iVnL">Action Creators</a><a href="http://redux-form.com/6.0.0-alpha.4/docs/faq" class="">FAQ</a><a href="http://redux-form.com/6.0.0-alpha.4/examples" class="">Examples</a><a href="http://redux-form.com/6.0.0-alpha.4/examples/simple" class="indent1___4iVnL">Simple Form</a><a href="http://redux-form.com/6.0.0-alpha.4/examples/syncValidation" class="indent1___4iVnL">Sync Validation</a><a href="http://redux-form.com/6.0.0-alpha.4/examples/submitValidation" class="indent1___4iVnL">Submit Validation</a><a href="http://redux-form.com/6.0.0-alpha.4/examples/asyncValidation" class="indent1___4iVnL">Async Validation</a><a href="http://redux-form.com/6.0.0-alpha.4/examples/initializeFromState" class="indent1___4iVnL">Initializing from State</a><a href="http://redux-form.com/6.0.0-alpha.4/examples/immutable" class="indent1___4iVnL">Immutable JS</a><a href="http://redux-form.com/6.0.0-alpha.4/docs/DocumentationVersions.md" class="">Older Versions</a></nav></div><div class="contentAndFooter___kE2nt"><div class="topNav___sBW8S"><a href="http://redux-form.com" class="brand___YAZl-"></a><a class="github___3-vRv" href="https://github.com/erikras/redux-form" title="Github" target="_blank"><i class="fa fa-fw fa-github"></i></a></div><div class="content___3TVHp"><div><ol class="breadcrumbs___1BHo6"><li><a href="http://redux-form.com/6.0.0-alpha.4/">Redux Form</a></li><li><code>v6</code> Migration Guide</li></ol><div><h1 id="-v5-v6-migration-guide"><code>v5</code> â†’ <code>v6</code> Migration Guide</h1>
<p><code>redux-form</code> has been <em>completely</em> rewritten for <code>v6</code>, because of a fundamental design change.</p>
<h2 id="inversion-of-control">Inversion of Control</h2>
<p>In <code>v5</code>, only the outer form component was connected to the Redux state, and the props for each 
field were passed in via the form component. The problem with this is that the <em>entire</em> form 
component had to rerender <em>on every single keypress</em> that changed a form value. This was fine for
small login forms, but lead to extremely slow performance on larger forms with dozens or hundreds
of fields.</p>
<p><strong>In <code>v6</code>, every single field is connected to the Redux store.</strong> The outer form component is also
connected, but is connected in such a manner that does not require it to refresh every time a 
value changes.</p>
<p>Because of this inversion of control, <strong>there is no incremental upgrade path</strong>. I would love to 
provide new API and provide deprecation warnings on the old API, but there is just no path from 
here to there that allows for such a transition.</p>
<p>The <code>v6</code> <code>Field</code> API was designed, however, in such a way as to minimize the migration pains. 
This document will outline the minimum migration distance from <code>v5</code> to <code>v6</code>.</p>
<h2 id="goodbye-fields-hello-field-">Goodbye <code>fields</code>... Hello <code>Field</code>!</h2>
<p>In <code>v5</code>, you were required to provide an array of <code>fields</code> names, and then a <code>fields</code> object prop 
was provided to your decorated component. The mechanism that generates the props (<code>value</code>,
<code>onChange</code>, <code>onBlur</code>, etc.) for your input from the string name of your field is the new <code>Field</code> 
component.</p>
<h4 id="-v5-"><code>v5</code></h4>
<p>To illustrate how minimal a breaking change this is, I have marked each line that does <em>NOT</em> 
change between <code>v5</code> and <code>v6</code> with an arrow.</p>
<pre class="language-jsx"><code class="language-jsx">
<span class="token keyword" >import</span> React<span class="token punctuation" >,</span> <span class="token punctuation" >{</span> Component <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'react'</span>                    <span class="token comment" spellcheck="true">// &lt;--</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> reduxForm <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'redux-form'</span>

<span class="token keyword" >class</span> <span class="token class-name" >MyForm</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>                            <span class="token comment" spellcheck="true">// &lt;--</span>
  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>                                                <span class="token comment" spellcheck="true">// &lt;--</span>

    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> fields<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> username<span class="token punctuation" >,</span> password <span class="token punctuation" >}</span><span class="token punctuation" >,</span> handleSubmit <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props

    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>                                                <span class="token comment" spellcheck="true">// &lt;--</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>form</span> <span class="token attr-name" >onSubmit</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>handleSubmit<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>                        <span class="token comment" spellcheck="true">// &lt;--</span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>                                               <span class="token comment" spellcheck="true">// &lt;--</span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Username<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>                           <span class="token comment" spellcheck="true">// &lt;--</span>
          <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"text"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>username<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>                <span class="token comment" spellcheck="true">// &lt;--</span>
          <span class="token punctuation" >{</span>username<span class="token punctuation" >.</span>touched <span class="token operator" >&amp;&amp;</span>                              <span class="token comment" spellcheck="true">// &lt;--</span>
           username<span class="token punctuation" >.</span>error <span class="token operator" >&amp;&amp;</span>                                <span class="token comment" spellcheck="true">// &lt;--</span>
           <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>span</span> <span class="token attr-name" >className</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>error<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>username<span class="token punctuation" >.</span>error<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>span</span><span class="token punctuation" >></span></span><span class="token punctuation" >}</span> <span class="token comment" spellcheck="true">// &lt;--</span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>                                              <span class="token comment" spellcheck="true">// &lt;--</span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>                                               <span class="token comment" spellcheck="true">// &lt;--</span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Password<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>                           <span class="token comment" spellcheck="true">// &lt;--</span>
          <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"password"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>password<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>            <span class="token comment" spellcheck="true">// &lt;--</span>
          <span class="token punctuation" >{</span>password<span class="token punctuation" >.</span>touched <span class="token operator" >&amp;&amp;</span>                              <span class="token comment" spellcheck="true">// &lt;--</span>
           password<span class="token punctuation" >.</span>error <span class="token operator" >&amp;&amp;</span>                                <span class="token comment" spellcheck="true">// &lt;--</span>
           <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>span</span> <span class="token attr-name" >className</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>error<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>password<span class="token punctuation" >.</span>error<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>span</span><span class="token punctuation" >></span></span><span class="token punctuation" >}</span> <span class="token comment" spellcheck="true">// &lt;--</span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>                                              <span class="token comment" spellcheck="true">// &lt;--</span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>submit<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>Submit<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>               <span class="token comment" spellcheck="true">// &lt;--</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>form</span><span class="token punctuation" >></span></span>                                               <span class="token comment" spellcheck="true">// &lt;--</span>
    <span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token function" >reduxForm</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>                                  <span class="token comment" spellcheck="true">// &lt;--</span>
  name<span class="token punctuation" >:</span> <span class="token string" >'myForm'</span><span class="token punctuation" >,</span>                                           <span class="token comment" spellcheck="true">// &lt;--</span>
  fields<span class="token punctuation" >:</span> <span class="token punctuation" >[</span> <span class="token string" >'username'</span><span class="token punctuation" >,</span> <span class="token string" >'password'</span> <span class="token punctuation" >]</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span>MyForm<span class="token punctuation" >)</span>                                                  <span class="token comment" spellcheck="true">// &lt;--</span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<p>The lines with comments are <strong>the only ones</strong> that are different.</p>
<pre class="language-jsx"><code class="language-jsx">
<span class="token keyword" >import</span> React<span class="token punctuation" >,</span> <span class="token punctuation" >{</span> Component <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'react'</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> reduxForm<span class="token punctuation" >,</span> Field <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'redux-form'</span> <span class="token comment" spellcheck="true">// imported Field</span>

<span class="token keyword" >class</span> <span class="token class-name" >MyForm</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>

    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> handleSubmit <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props       <span class="token comment" spellcheck="true">// no fields prop</span>

    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>form</span> <span class="token attr-name" >onSubmit</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>handleSubmit<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>

        <span class="token operator" >&lt;</span>Field                                <span class="token comment" spellcheck="true">// wrap in Field</span>
          name<span class="token operator" >=</span><span class="token string" >"username"</span>                     <span class="token comment" spellcheck="true">// specify field name</span>
          component<span class="token operator" >=</span><span class="token punctuation" >{</span>username <span class="token operator" >=</span><span class="token operator" >></span>              <span class="token comment" spellcheck="true">// specify how to render, given props</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
              <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Username<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
              <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>input</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>text<span class="token punctuation" >"</span></span> <span class="token attr-name" >{...username}</span><span class="token punctuation" >/></span>
              <span class="token attr-name" >{username.touched</span> <span class="token attr-name" >&amp;&amp;</span>
               <span class="token attr-name" >username.error</span> <span class="token attr-name" >&amp;&amp;</span>
               <span class="token attr-name" >&lt;span</span> <span class="token attr-name" >className</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>error<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>username<span class="token punctuation" >.</span>error<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>span</span><span class="token punctuation" >></span></span><span class="token punctuation" >}</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
          <span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>                                 <span class="token comment" spellcheck="true">// close Field</span>

        <span class="token operator" >&lt;</span>Field                                <span class="token comment" spellcheck="true">// wrap in Field</span>
          name<span class="token operator" >=</span><span class="token string" >"password"</span>                     <span class="token comment" spellcheck="true">// specify field name</span>
          component<span class="token operator" >=</span><span class="token punctuation" >{</span>password <span class="token operator" >=</span><span class="token operator" >></span>              <span class="token comment" spellcheck="true">// specify how to render, given props</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
              <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Password<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
              <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>input</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>password<span class="token punctuation" >"</span></span> <span class="token attr-name" >{...password}</span><span class="token punctuation" >/></span>
              <span class="token attr-name" >{password.touched</span> <span class="token attr-name" >&amp;&amp;</span>
               <span class="token attr-name" >password.error</span> <span class="token attr-name" >&amp;&amp;</span>
               <span class="token attr-name" >&lt;span</span> <span class="token attr-name" >className</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>error<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>password<span class="token punctuation" >.</span>error<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>span</span><span class="token punctuation" >></span></span><span class="token punctuation" >}</span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
          <span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>                                 <span class="token comment" spellcheck="true">// close Field</span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>submit<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>Submit<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>form</span><span class="token punctuation" >></span></span>
    <span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token function" >reduxForm</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  name<span class="token punctuation" >:</span> <span class="token string" >'myForm'</span>
                                              <span class="token comment" spellcheck="true">// no fields array given</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span>MyForm<span class="token punctuation" >)</span>
</code></pre>

<p>In <code>v5</code> the field name strings were all bundled together as input and the field objects came out
bundled together as output (of <code>redux-form</code>), and now, in <code>v6</code>, the conversion from field name to 
field object is done one at a time at the location of each field.</p>
<h2 id="-handlesubmit-and-onsubmit-"><code>handleSubmit</code> and <code>onSubmit</code></h2>
<p>The only thing that has changed about form submission is that your submit validation 
errors must now be wrapped in a <code>SubmissionError</code> object. This is to distinguish between 
validation errors and AJAX or server errors.
<a href="https://github.com/erikras/redux-form/pull/602">See discussion on PR #602</a></p>
<h4 id="-v5-"><code>v5</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token operator" >&lt;</span>MyForm onSubmit<span class="token operator" >=</span><span class="token punctuation" >{</span>values <span class="token operator" >=</span><span class="token operator" >></span>
  ajax<span class="token punctuation" >.</span><span class="token function" >send</span><span class="token punctuation" >(</span>values<span class="token punctuation" >)</span> <span class="token comment" spellcheck="true">// however you send data to your server...</span>
    <span class="token punctuation" >.</span><span class="token keyword" >catch</span><span class="token punctuation" >(</span>error <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
      <span class="token comment" spellcheck="true">// how you pass server-side validation errors back is up to you</span>
      <span class="token keyword" >if</span><span class="token punctuation" >(</span>error<span class="token punctuation" >.</span>validationErrors<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >return</span> Promise<span class="token punctuation" >.</span><span class="token function" >reject</span><span class="token punctuation" >(</span>error<span class="token punctuation" >.</span>validationErrors<span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span> <span class="token keyword" >else</span> <span class="token punctuation" >{</span>
        <span class="token comment" spellcheck="true">// what you do about other communication errors is up to you</span>
        <span class="token function" >reportServerError</span><span class="token punctuation" >(</span>error<span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token operator" >&lt;</span>MyForm onSubmit<span class="token operator" >=</span><span class="token punctuation" >{</span>values <span class="token operator" >=</span><span class="token operator" >></span>
  ajax<span class="token punctuation" >.</span><span class="token function" >send</span><span class="token punctuation" >(</span>values<span class="token punctuation" >)</span>
    <span class="token punctuation" >.</span><span class="token keyword" >catch</span><span class="token punctuation" >(</span>error <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
      <span class="token keyword" >if</span><span class="token punctuation" >(</span>error<span class="token punctuation" >.</span>validationErrors<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >throw</span> <span class="token keyword" >new</span> <span class="token class-name" >SubmissionError</span><span class="token punctuation" >(</span>error<span class="token punctuation" >.</span>validationErrors<span class="token punctuation" >)</span> <span class="token comment" spellcheck="true">// &lt;----- only difference</span>
      <span class="token punctuation" >}</span> <span class="token keyword" >else</span> <span class="token punctuation" >{</span>
        <span class="token function" >reportServerError</span><span class="token punctuation" >(</span>error<span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
</code></pre>

<h2 id="sync-validation">Sync Validation</h2>
<p>Because synchronous validation occurs every time a form value changes, it has been moved from the
form component to the reducer. Yes, sync errors are kept in the Redux state now. Nothing needs to 
change about your validation function aside from how you give it to <code>redux-form</code>.</p>
<h4 id="-v5-"><code>v5</code></h4>
<p>Reducer:</p>
<pre class="language-jsx"><code class="language-jsx">
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> reducer <span class="token keyword" >as</span> formReducer <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'redux-form'</span>

<span class="token keyword" >const</span> reducer <span class="token operator" >=</span> <span class="token function" >combineReducers</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// ...your other reducers</span>
  form<span class="token punctuation" >:</span> formReducer
<span class="token punctuation" >}</span><span class="token punctuation" >)</span>
</code></pre>

<p>Form component decoration:</p>
<pre class="language-jsx"><code class="language-jsx">
<span class="token keyword" >import</span> myFormValidation <span class="token keyword" >from</span> <span class="token string" >'./myFormValidation'</span>

<span class="token function" >reduxForm</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  name<span class="token punctuation" >:</span> <span class="token string" >'myForm'</span><span class="token punctuation" >,</span>
  validate<span class="token punctuation" >:</span> myFormValidation
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span>MyForm<span class="token punctuation" >)</span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<p>Reducer:</p>
<pre class="language-jsx"><code class="language-jsx">
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> reducer <span class="token keyword" >as</span> formReducer <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'redux-form'</span>
<span class="token keyword" >import</span> myFormValidation <span class="token keyword" >from</span> <span class="token string" >'./myFormValidation'</span>

<span class="token keyword" >const</span> reducer <span class="token operator" >=</span> <span class="token function" >combineReducers</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// ...your other reducers</span>
  form<span class="token punctuation" >:</span> formReducer<span class="token punctuation" >.</span><span class="token function" >validation</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    myForm<span class="token punctuation" >:</span> myFormValidation <span class="token comment" spellcheck="true">// from form name to sync validation function</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span>
</code></pre>

<p>Form component decoration:</p>
<pre class="language-jsx"><code class="language-jsx">
<span class="token function" >reduxForm</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  name<span class="token punctuation" >:</span> <span class="token string" >'myForm'</span>
                    <span class="token comment" spellcheck="true">// &lt;--- no sync validation passed</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span>MyForm<span class="token punctuation" >)</span>
</code></pre>

<h2 id="initialization-with-initialvalues-">Initialization with <code>initialValues</code></h2>
<p>Nothing has changed with this, apart from fixing some pesky bugs like 
<a href="https://github.com/erikras/redux-form/issues/514">#514</a>,
<a href="https://github.com/erikras/redux-form/issues/621">#621</a>,
<a href="https://github.com/erikras/redux-form/issues/628">#628</a>, and
<a href="https://github.com/erikras/redux-form/issues/756">#756</a>. In <code>v6</code>, each field will have its 
initial value on the very first render.</p>
<h2 id="async-validation">Async Validation</h2>
<p>No changes. Works exactly like <code>v5</code>.</p>
<h2 id="deep-fields">Deep Fields</h2>
<p>There is no mystery to deep fields in <code>v6</code>. You simply use dot-syntax on your field name.</p>
<h4 id="-v5-"><code>v5</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> <span class="token punctuation" >{</span> 
    fields<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      contact<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        shipping<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> street <span class="token punctuation" >}</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
      <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"text"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>street<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
  <span class="token punctuation" >)</span>  
<span class="token punctuation" >}</span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Field</span> <span class="token attr-name" >name</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>contact.shipping.street<span class="token punctuation" >"</span></span> <span class="token attr-name" >component</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>street <span class="token operator" >=</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"text"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>street<span class="token punctuation" >}</span></span><span class="token punctuation" >/></span></span>
      <span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
  <span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre>

<h2 id="array-fields">Array Fields</h2>
<p>This part of <code>v6</code> has not yet been written. The current plan is to have some sort of component, 
like <code>Field</code>, that will let you iterate over your array values. Something like:</p>
<h4 id="-v5-"><code>v5</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> <span class="token punctuation" >{</span> fields<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> awards <span class="token punctuation" >}</span> <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ul</span><span class="token punctuation" >></span></span>
        <span class="token punctuation" >{</span>awards<span class="token punctuation" >.</span><span class="token function" >map</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>award<span class="token punctuation" >,</span> index<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span> <span class="token attr-name" >key</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>index<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Award #<span class="token punctuation" >{</span>index <span class="token operator" >+</span> <span class="token number" >1</span><span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
          <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"text"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>award<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span><span class="token punctuation" >}</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ul</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span> <span class="token attr-name" >onClick</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> awards<span class="token punctuation" >.</span><span class="token function" >addField</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Add Award<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
  <span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre>

<h4 id="-v6-proposal"><code>v6</code> - Proposal</h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> <span class="token punctuation" >{</span> push <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ArrayField</span> <span class="token attr-name" >name</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>awards<span class="token punctuation" >"</span></span> <span class="token attr-name" >component</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>props <span class="token operator" >=</span><span class="token operator" >></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ul</span><span class="token punctuation" >></span></span>
          <span class="token punctuation" >{</span>props<span class="token punctuation" >.</span>array<span class="token punctuation" >.</span><span class="token function" >map</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>name<span class="token punctuation" >,</span> index<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token operator" >&lt;</span>li key<span class="token punctuation" >=</span><span class="token punctuation" >{</span>index<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Award #<span class="token punctuation" >{</span>index <span class="token operator" >+</span> <span class="token number" >1</span><span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Field</span> <span class="token attr-name" >name</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>name<span class="token punctuation" >}</span></span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>text<span class="token punctuation" >"</span>/</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span><span class="token punctuation" >}</span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ul</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ArrayField</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span> <span class="token attr-name" >onClick</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token function" >push</span><span class="token punctuation" >(</span><span class="token string" >'awards'</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Add Award<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
  <span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre>

<h2 id="normalization">Normalization</h2>
<p>Not implemented yet.</p>
<h2 id="listening-to-other-actions">Listening to other actions</h2>
<p>No equivalent of the <code>v5</code> <code>plugin()</code> interface has been written yet.</p>
</div></div></div><div class="footer___1oh0h"><div>Created by Erik Rasmussen</div><div>Got questions? Ask for help:<a class="help___3OayI" href="https://stackoverflow.com/questions/ask?tags=redux-form" title="Stack Overflow" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i></a><a class="help___3OayI" href="https://github.com/erikras/redux-form/issues/new" title="Github" target="_blank"><i class="fa fa-fw fa-github"></i></a></div><div><a href="https://twitter.com/erikras" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @erikras</a><a href="https://twitter.com/ReduxForm" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @ReduxForm</a></div></div></div></div>
  <script>
    (function(i,s,o,g,r,a,m){i[ 'GoogleAnalyticsObject' ] = r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-69298417-1', 'auto');
    ga('send', 'pageview');
  </script>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </body>
  </html>